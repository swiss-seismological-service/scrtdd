<?xml version="1.0" encoding="UTF-8"?>
<seiscomp>
	<plugin name="NLLGrid">
		<extends>global</extends>
		<description>
		SeisComP travel time wrapper for NonLinLoc grid files.
		</description>
		<configuration>
			<extend-struct type="ttt profile" match-name="NLLGrid">
				<struct type="table profile">
					<description>
					Defines a travel time profile using NonLinLoc grid files.
					Once defined, the profile can be enabled by adding its name
					to the 'ttt.NLLGrid.tables' list.
					</description>
					<parameter name="P-Phases" type="list:string" default="P,Pg,Pn">
						<description>
						List of phases to be associated with the P-wave travel time grid.
						</description>
					</parameter>
					<parameter name="S-Phases" type="list:string" default="S,Sg,Sn">
						<description>
						List of phases to be associated with the S-wave travel time grid.
						</description>
					</parameter>
					<parameter name="tablePath" type="path">
						<description>
						Path to the directory containing the NonLinLoc travel time grids.
						</description>
					</parameter>
					<parameter name="maxSearchDistance" type="double" default="10" unit="m">
						<description>
						The maximum allowed distance between a station's location in the
						inventory and the corresponding location in the grid file headers.
						If no grid file for a station can be found within this distance,
						the station will not have travel times.
						</description>
					</parameter>
					<parameter name="swapBytes" type="boolean" default="false">
						<description>
						Enable for grid files generated with a different byte order (endianness).
						</description>
					</parameter>
					<parameter name="accessMethod" type="string" default="KeepOpen" values="KeepOpen,LoadIntoMemory,MemoryMapping">
						<description>
						 Specifies the method for accessing grid files: 'KeepOpen',
						'LoadIntoMemory' or 'MemoryMapping'.
						'KeepOpen' opens the files and reads the required values on demand,
						while keeping the file open.
						'MemoryMapping' is the fastest method, ideal for GUIs, but it can 
						cause issues with a long-running module if the underlying grid file
						is modified or with network file systems, causing the process to
						receive a SIGBUG.
						'LoadIntoMemory' loads all files into memory. This requires an
						initial file loading overhead (not ideal for GUIs) and higher memory
						usage. This is the fastest method for long running modules that
						can keep all the grid files in memory, so that they are loaded only
						once.
						</description>
					</parameter>
					<parameter name="maxOpenFiles" type="integer" default="512">
						<description>
						Defines the maximum number of grid files to keep open. A higher
						number improves performance. Each station requires 4 files (P-time,
						S-time, P-angle, S-angle), plus there are the 2, P and S, velocity
						files. Depending on the 'accessMethod', consider system limits such as
						max open files (for 'KeepOpen'), max memory mapping limits (for 
						'MemoryMapping'),  and available memory (for 'LoadIntoMemory').
						</description>
					</parameter>
				</struct>
			</extend-struct>
		</configuration>
	</plugin>
</seiscomp>
